(this.webpackJsonpcpa=this.webpackJsonpcpa||[]).push([[4],{128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),o=n.n(c),r=n(6),i=n.n(r),l=n(27),s=n(12),b=n(8),d=n(32),u=n(167),j=n(171),h=n(172),g=n(169),x=n(75),p=n.n(x),m=n(70),O=n.n(m),f=n(85),k=n.n(f),v=n(86),y=n.n(v),C=n(84),N=n.n(C),w=n(33),B=Object(u.a)((function(e){return{root:{height:42,width:42,borderRadius:e.spacing(1),fontSize:"32px",borderWidth:"2px",borderColor:"#1a202c",borderStyle:"solid",alignItems:"center",padding:"0px"}}})),I=function(e){var t=e.themeChanger,n=B(),o=Object(c.useContext)(w.a).currentTheme,r=Object(c.useState)("dark"===o?"WbSunnyIcon":"Brightness2Icon"),i=Object(l.a)(r,2),s=i[0],d=i[1],u=Object(c.useState)({backgroundColor:"#1a202c","&:hover":{backgroundColor:"#354159"},color:"#EFEFF0"}),j=Object(l.a)(u,2),h=j[0],x=j[1];Object(c.useEffect)((function(){x("dark"===o?function(e){return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:"#1a202c",color:N.a[600],border:"none"})}:function(e){return Object(b.a)(Object(b.a)({},e),{},{backgroundColor:"#f5f5f5",color:"#1a202c",border:"none"})})}),[o]);return Object(a.jsx)(g.a,{className:n.root,style:Object(b.a)({},h),onClick:function(){d("light"===o?"WbSunnyIcon":"Brightness2Icon"),t()},children:"Brightness2Icon"===s?Object(a.jsx)(k.a,{}):Object(a.jsx)(y.a,{})})},S=n(180),R=n(17),D=n(173),E=n(175),T=n(176),P=n(133),z=n(177),F=n(178),A=n(183),L=n(146),_=n(179),G=n(181),M="LIGHT",W="DARK",H="#fff",U="rgb(20, 19, 34)",J=n(20),K=n.n(J),q=n(24),Q=n(174),V=n(61),X=n(62),Y=n(64),Z=Object(A.a)()((function(e){var t=e.themeChanger,n=e.width,r=Object(d.b)(),i=Object(d.c)((function(e){return e.isLogin})),x=Object(d.c)((function(e){return e.userData})),m=Object(d.c)((function(e){return e.balance})),f=Object(c.useState)(!1),k=Object(l.a)(f,2),v=k[0],y=k[1],C=Object(s.f)(),N=function(){K.a.remove("token"),K.a.remove("level"),r(Object(q.c)()),r(Object(q.a)(0,0)),r(Object(q.b)({token:void 0,level:void 0,trafficBack:void 0,trafficBackUrl:void 0,username:void 0}))};Object(c.useEffect)((function(){K.a.get("token")?(console.log(C.location.pathname),i||(r(Object(q.c)()),r(Object(q.b)({token:K.a.get("token"),level:K.a.get("level")}))),"/"!==C.location.pathname&&"/login"!==C.location.pathname&&"/register"!==C.location.pathname||C.push("/dashboard")):C.push("/")}),[i]),Object(c.useEffect)((function(){setInterval((function(){fetch("https://secure.platinumpay.cc/v1/client/auth/token",{headers:{Authorization:"Bearer ".concat(K.a.get("token"))}}).then((function(e){return e.json()})).then((function(e){"/"!==C.location.pathname&&"/login"!==C.location.pathname&&"/register"!==C.location.pathname&&(e.result?r(Object(q.b)({token:K.a.get("token"),level:e.response.level})):N())}))}),5e3)}),[]),Object(c.useEffect)((function(){console.log(v)}),[v]),Object(c.useEffect)((function(){i&&(y(!0),fetch("https://secure.platinumpay.cc/v1/client/profile/getBalance",{headers:{Authorization:"Bearer ".concat(K.a.get("token"))}}).then((function(e){return e.json()})).then((function(e){r(Object(q.a)(e.response.balance,e.response.rates.BTC)),y(!1)})),fetch("https://secure.platinumpay.cc/v1/client/profile/getProfile",{headers:{Authorization:"Bearer ".concat(K.a.get("token"))}}).then((function(e){return e.json()})).then((function(e){r(Object(q.b)({username:e.response.username,trafficBack:e.response.trafficBack,trafficBackUrl:e.response.trafficBackUrl}))})))}),[i]);var B=Object(c.useContext)(w.a).currentTheme,A=Object(u.a)((function(e){return{logo:{maxWidth:"40px"},root:{flexGrow:1},active:{},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontFamily:"RobotoBold"},authBlock:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(1),padding:e.spacing(1),marginRight:e.spacing(1)},loginNav:{padding:"8px",color:"dark"===B?"white":"black",marginRight:"10px",fontFamily:"RobotoRegular","&:hover":{color:"#9999BB!important"}},registerNav:{boxShadow:"0px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)",padding:"10px 8px",borderRadius:"3px",backgroundColor:"rgb(75, 124, 243)","&:hover":{backgroundColor:"#42baf9"},fontFamily:"RobotoRegular"},menuItem:{display:"flex",alignItems:"center",justifyContent:"center"},menu:{"& .MuiMenu-paper":{backgroundColor:"dark"===B?"rgb(12, 12, 27)":"white"}}}}))(),M=o.a.useState(null),W=Object(l.a)(M,2),J=W[0],Z=W[1],$=Boolean(J),ee=function(e){Z(e.currentTarget)},te=function(){Z(null)},ne=function(){y(!0),fetch("https://secure.platinumpay.cc/v1/client/profile/getBalance",{headers:{Authorization:"Bearer ".concat(x.token)}}).then((function(e){return e.json()})).then((function(e){r(Object(q.a)(e.response.balance,e.response.rates.BTC)),y(!1)}))};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:A.root,children:Object(a.jsx)(j.a,{position:"fixed",style:{boxShadow:"dark"===B?"none":"rgb(212 215 225 / 28%) 0px 1px 6px",transition:"box-shadow 250ms",zIndex:i?"2001":"",borderBottom:"dark"===B?"1px solid #232135":"none"},children:Object(a.jsxs)(h.a,{style:{minHeight:63,backgroundColor:K.a.get("token")?"dark"===B?"#0c0c1b":H:"dark"===B?"rgb(20, 19, 34)":H,boxShadow:"none"},children:[Object(a.jsx)("div",{className:A.title,style:{fontSize:"xs"===n&&30},children:i?"xs"===n?Object(a.jsx)(R.b,{to:"/dashboard",exact:!0,style:{textDecoration:"none",color:"light"===B?U:H},children:Object(a.jsx)("img",{alt:"",className:A.logo,src:"dark"===B?X.a:V.a})}):null:Object(a.jsx)(R.b,{to:"/",exact:!0,style:{textDecoration:"none",color:"light"===B?U:H},children:Object(a.jsx)("img",{alt:"",className:A.logo,src:"dark"===B?X.a:V.a})})}),"xs"!==n?i?Object(a.jsxs)(a.Fragment,{children:[v?Object(a.jsx)("div",{style:{marginRight:"35px"},children:Object(a.jsx)(Y.CircleSpinner,{size:12,color:"dark"===B?"white":"black",loading:v})}):Object(a.jsxs)(D.a,{style:{marginRight:"25px",color:"dark"===B?"white":"black",fontSize:"16px"},children:["".concat(m.money," \u20bd | ").concat(m.rates," \u20bf"),Object(a.jsx)(g.a,{onClick:ne,style:{color:"dark"===B?"white":"black",padding:"5px"},children:Object(a.jsx)(O.a,{style:{height:"19px"}})})]}),Object(a.jsx)(g.a,{edge:"start",className:A.menuButton,color:"inherit","aria-label":"menu",style:{borderRadius:3,color:"light"===B?"black":"",backgroundColor:"dark"===B?"rgb(20, 19, 34)":"white",width:"42px",height:"42px",alignItems:"center",padding:"0px"},onClick:ee,children:Object(a.jsx)(Q.a,{})}),Object(a.jsx)(E.a,{open:$,anchorEl:J,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(a.jsx)(T.a,Object(b.a)(Object(b.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom",backgroundColor:"dark"===B?"rgb(20, 19, 34)":""},children:Object(a.jsx)(P.a,{children:Object(a.jsx)(z.a,{onClickAway:te,children:Object(a.jsxs)(F.a,{autoFocusItem:$,id:"menu-list-grow",children:[Object(a.jsx)(_.a,{onClick:te,children:Object(a.jsx)(R.b,{className:A.loginNav,to:"/dashboard/profile",exact:!0,activeClassName:A.active,style:{textDecoration:"none"},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(a.jsx)(_.a,{onClick:te,children:Object(a.jsx)(R.b,{className:A.loginNav,onClick:N,to:"/login",exact:!0,activeClassName:A.active,style:{textDecoration:"none"},children:"\u0412\u044b\u0439\u0442\u0438"})})]})})})}))}})]}):Object(a.jsxs)("div",{className:A.authBlock,children:[Object(a.jsx)(R.b,{className:A.loginNav,to:"/login",exact:!0,activeClassName:A.active,style:{textDecoration:"none"},children:"\u0412\u043e\u0439\u0442\u0438"}),Object(a.jsx)(R.b,{to:"/register",className:A.registerNav,activeClassName:A.active,style:{color:"white",textDecoration:"none"},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}):i?Object(a.jsxs)(a.Fragment,{children:[v?Object(a.jsx)("div",{style:{marginRight:"20px"},children:Object(a.jsx)(Y.CircleSpinner,{size:12,color:"dark"===B?"white":"black",loading:v})}):Object(a.jsxs)(D.a,{style:{marginRight:"10px",color:"dark"===B?"white":"black",fontSize:"16px"},children:["".concat(m.money," \u20bd | ").concat(m.rates," \u20bf"),Object(a.jsx)(g.a,{onClick:ne,style:{color:"dark"===B?"white":"black",padding:"5px"},children:Object(a.jsx)(O.a,{style:{height:"19px"}})})]}),Object(a.jsx)(g.a,{edge:"start",className:A.menuButton,color:"inherit","aria-label":"menu",style:{borderRadius:3,color:"light"===B?"black":"",backgroundColor:"dark"===B?"rgb(20, 19, 34)":"white",width:"42px",height:"42px",alignItems:"center",padding:"0px"},onClick:ee,children:Object(a.jsx)(Q.a,{})}),Object(a.jsx)(E.a,{open:$,anchorEl:J,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(a.jsx)(T.a,Object(b.a)(Object(b.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom",backgroundColor:"dark"===B?"rgb(20, 19, 34)":""},children:Object(a.jsx)(P.a,{children:Object(a.jsx)(z.a,{onClickAway:te,children:Object(a.jsxs)(F.a,{autoFocusItem:$,id:"menu-list-grow",children:[Object(a.jsx)(_.a,{onClick:te,children:Object(a.jsx)(R.b,{className:A.loginNav,to:"/dashboard/profile",exact:!0,activeClassName:A.active,style:{textDecoration:"none"},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(a.jsx)(_.a,{onClick:te,children:Object(a.jsx)(R.b,{className:A.loginNav,onClick:N,to:"/login",exact:!0,activeClassName:A.active,style:{textDecoration:"none"},children:"\u0412\u044b\u0439\u0442\u0438"})})]})})})}))}})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g.a,{edge:"start",className:A.menuButton,color:"inherit","aria-label":"menu",style:{borderRadius:5,backgroundColor:S.a[600],width:"42px",height:"42px",alignItems:"center",padding:"0px"},onClick:ee,children:Object(a.jsx)(p.a,{})}),Object(a.jsxs)(L.a,{className:A.menu,id:"fade-menu",anchorEl:J,keepMounted:!0,open:$,onClose:te,TransitionComponent:G.a,children:[Object(a.jsx)(_.a,{onClick:te,className:A.menuItem,children:Object(a.jsx)(R.b,{className:A.loginNav,to:"/login",exact:!0,activeClassName:A.active,style:{textDecoration:"none"},children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(a.jsx)(_.a,{onClick:te,children:Object(a.jsx)(R.b,{className:A.registerNav,to:"/register",activeClassName:A.active,style:{color:"white",textDecoration:"none"},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})]}),Object(a.jsx)(I,{themeChanger:t})]})})})})})),$=function(e,t){switch(t.type){case M:return"dark"===localStorage.getItem("theme")&&(localStorage.removeItem("theme"),localStorage.setItem("theme","light")),Object(b.a)(Object(b.a)({},e),{},{theme:H});case W:return"light"===localStorage.getItem("theme")&&(localStorage.removeItem("theme"),localStorage.setItem("theme","dark")),Object(b.a)(Object(b.a)({},e),{},{theme:U});default:return e}},ee=n(38),te=n(92),ne=n(93),ae={isLogin:!1,userData:{},openPanel:!1,balance:{money:0,rates:0}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOGIN":return Object(b.a)(Object(b.a)({},e),{},{isLogin:!e.isLogin});case"OPEN_PANEL":return Object(b.a)(Object(b.a)({},e),{},{openPanel:!e.openPanel});case"SET_DATA":return Object(b.a)(Object(b.a)({},e),{},{userData:Object(b.a)(Object(b.a)({},e.userData),t.payload)});case"REL_BALANCE":return Object(b.a)(Object(b.a)({},e),{},{balance:t.payload});default:return e}},oe=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,563))})),re=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(15)]).then(n.bind(null,570))})),ie=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(6),n.e(11)]).then(n.bind(null,585))})),le=Object(c.lazy)((function(){return n.e(8).then(n.bind(null,581))})),se=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(9),n.e(13)]).then(n.bind(null,575))})),be=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(10),n.e(12)]).then(n.bind(null,579))}));var de=function(e){var t,n=e.sound,o=(e.flag,(t="theme",{currentTheme:localStorage.getItem(t)}).currentTheme),r={theme:"light"===o?H:U},i=Object(c.useReducer)($,r),b=Object(l.a)(i,2),u=b[0],j=b[1];document.body.style.backgroundColor=u.theme;var h=function(){j({type:u.theme===H?W:M}),document.body.style.backgroundColor=u.theme},g=Object(ee.createStore)(ce,Object(te.composeWithDevTools)(Object(ee.applyMiddleware)(ne.a)));return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(w.a.Provider,{value:{currentTheme:o},children:Object(a.jsxs)(d.a,{store:g,children:[Object(a.jsx)(Z,{themeChanger:h}),Object(a.jsx)(c.Suspense,{fallback:Object(a.jsx)("div",{children:"...Loading"}),children:Object(a.jsxs)(s.c,{children:[Object(a.jsx)(s.a,{path:"/",exact:!0,children:Object(a.jsx)(le,{themeChanger:h,sound:n})}),Object(a.jsx)(s.a,{path:"/login",exact:!0,component:oe}),Object(a.jsx)(s.a,{path:"/register",exact:!0,component:re}),Object(a.jsx)(s.a,{path:"/dashboard",exact:!0,component:ie}),Object(a.jsx)(s.a,{path:"/dashboard/profile",exact:!0,component:se}),Object(a.jsx)(s.a,{path:"/dashboard/products",exact:!0,component:be})]})})]})})})},ue=function(e){e&&e instanceof Function&&n.e(16).then(n.bind(null,580)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))},je=n(94),he=(n(128),n(129),n(130),n.p+"static/media/sound3.f4cd9e6a.mp3"),ge=new je.Howl({src:[he],autoplay:!1,preload:!0,onplayerror:function(){ge.once("unlock",(function(){ge.play()}))}});i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(R.a,{children:Object(a.jsx)(de,{sound:ge})})}),document.getElementById("root")),ue()},24:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=function(){return{type:"IS_LOGIN"}},c=function(e){return{type:"SET_DATA",payload:e}},o=function(e,t){return{type:"REL_BALANCE",payload:{money:e,rates:t}}}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),c=Object(a.createContext)()},61:function(e,t,n){"use strict";t.a=n.p+"static/media/logo-light-short.5e3961d9.png"},62:function(e,t,n){"use strict";t.a=n.p+"static/media/logo-dark-short.3cb2822e.png"}},[[131,5,7]]]);
//# sourceMappingURL=main.d5732541.chunk.js.map