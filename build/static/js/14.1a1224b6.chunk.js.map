{"version":3,"sources":["components/Auth/Login/Login.jsx"],"names":["CssTextField","withStyles","root","backgroundColor","color","height","padding","outline","display","borderBottomColor","borderColor","TextField","CssTextField2","useStyles","makeStyles","theme","logButt","withWidth","width","dispatch","useDispatch","useHistory","console","log","useState","vis","setVis","currentTheme","useContext","ThemeContext","auth","e","a","preventDefault","name","document","querySelector","value","pass","data","fetch","method","headers","body","JSON","stringify","then","res","json","userData","result","Cookies","set","response","access_token","path","sameSite","expires","level","setData","token","setLogin","showMess","message","Snackbar","show","actionTextColor","text","actionText","pos","classes","style","overflow","position","top","left","right","bottom","flexDirection","justifyContent","alignItems","zIndex","flexWrap","borderRadius","maxWidth","minHeight","marginTop","marginBottom","boxShadow","border","variant","to","exact","cursor","fontSize","fontWeight","textDecoration","InputProps","className","id","placeholder","required","margin","type","onClick"],"mappings":"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","file":"static/js/14.1a1224b6.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport withWidth from \"@material-ui/core/withWidth\";\r\nimport { TextField, makeStyles, Box, Typography, Paper, Icon, IconButton, withStyles } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff, People, Close } from '@material-ui/icons';\r\nimport Snackbar from 'node-snackbar';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { ThemeContext } from \"../../../context/themeContext\";\r\nimport Cookies from 'js-cookie';\r\nimport { setData, setLogin } from \"../../../actions/actions\";\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    '& .MuiFormHelperText-root':{\r\n      backgroundColor:'rgb(12, 12, 27)'\r\n    },\r\n    '& .MuiInputBase-input': {\r\n      color: '#7575a3',\r\n      height:'28px',\r\n      backgroundColor:'#232135',\r\n      padding:'8px'  \r\n    },\r\n    // '& .MuiInputBase-input:focus': {\r\n    //   outline:'2px solid #7575a3'\r\n    // },\r\n    '& .MuiInput-underline:hover': {\r\n      outline:'2px solid #7575a3'\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n      display:'none',\r\n      borderBottomColor: '#7575a3',\r\n    },\r\n    '& .MuiInput-underline:focus-within': {\r\n      outline:'2px solid #7575a3'\r\n    },\r\n    '& .MuiInput-underline:before': {\r\n      display:'none',\r\n      borderBottomColor: '#7575a3',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: '#7575a3',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: '#7575a3',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: '#7575a3',\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst CssTextField2 = withStyles({\r\n  root: {\r\n    '& .MuiInputBase-input': {\r\n      height:'28px',  \r\n      padding:'8px'  \r\n    },\r\n    // '& .MuiInputBase-input:focus': {\r\n    //   outline:'2px solid #78a3ff'\r\n    // },\r\n    '& .MuiInput-underline:hover': {\r\n      outline:'1px solid #78a3ff'\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n      display:'none',\r\n      borderBottomColor: '#78a3ff',\r\n    },\r\n    '& .MuiInput-underline:focus-within': {\r\n      outline:'1px solid #78a3ff'\r\n    },\r\n    '& .MuiInput-underline:before': {\r\n      display:'none',\r\n      borderBottomColor: '#78a3ff',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: '#78a3ff',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: '#78a3ff',\r\n      },\r\n      '& .Mui-focused fieldset': {\r\n        borderColor: '#78a3ff',\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst useStyles = makeStyles(theme =>({\r\n  logButt:{\r\n    '&:hover':{\r\n      backgroundColor:'#42baf9!important'\r\n    }\r\n  }\r\n}));\r\n\r\nconst Login = ({ width }) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const myHistory = useHistory();\r\n\r\n\r\n  console.log(width)\r\n  const [vis, setVis] = useState(false);\r\n  const { currentTheme } = useContext(ThemeContext);\r\n\r\n  const auth = async (e) => {\r\n    e.preventDefault();\r\n    const name = document.querySelector('#name').value;\r\n    const pass = document.querySelector('#pass').value;\r\n    const data = {\r\n      \"username\": name,\r\n      \"password\": pass\r\n    };\r\n   // console.log(data)\r\n    await fetch('https://secure.platinumpay.cc/v1/client/auth/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n      .then(res => {\r\n        return res.json()\r\n      })\r\n      .then(userData => {\r\n        console.log(userData)\r\n        if (userData.result) {\r\n          Cookies.set('token',userData.response.access_token,{path:'/',sameSite: 'strict',expires:360000});\r\n          Cookies.set('level',userData.response.level,{path:'/',sameSite: 'strict',expires:360000});\r\n          dispatch(setData({\r\n            token:userData.response.access_token,\r\n            level:userData.response.level\r\n          }))\r\n          dispatch(setLogin())\r\n          showMess('Авторизация прошла успешно!');\r\n        }\r\n        else {\r\n          showMess('Что-то пошло не так, попробуйте еще раз.')\r\n        }\r\n      })\r\n  }\r\n\r\n  const showMess = (message)=>{\r\n    Snackbar.show({\r\n      actionTextColor: '#7575a3', \r\n      text: message,\r\n      actionText: 'ОК',\r\n      pos: 'bottom-right'\r\n    });\r\n  }\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        style={{\r\n          overflow:'hidden',\r\n          position: 'absolute',\r\n          top: '0px',\r\n          left: '0px',\r\n          right: '0xp',\r\n          bottom: '0px',\r\n          width: '100%',\r\n          height: '100%',\r\n          display: \"flex\",\r\n          flexDirection: 'column',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          backgroundColor: currentTheme === 'light' ? 'white' : 'rgb(20, 19, 34)',\r\n          zIndex: '999',\r\n        }}>\r\n        <Paper\r\n          style={{\r\n            zIndex: '99999',\r\n            padding: '35px 30px',\r\n            display: \"flex\",\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'center',\r\n            borderRadius: '8px',\r\n            maxWidth: width === 'xs' ? '80%' : width === \"sm\" ? '60%' : width === \"md\" ? '40%' : '450px',\r\n            minHeight: '350px',\r\n            position: 'relative',\r\n            marginTop: '110px',\r\n            marginBottom: '40px',\r\n            backgroundColor: currentTheme === 'dark' ? '#141322' : '',\r\n            boxShadow: 'none',\r\n            border: 'none'\r\n          }}>\r\n          <Box style={{\r\n            width:'100%',\r\n            display:'flex',\r\n            justifyContent:'space-between',\r\n            alignItems:'center'\r\n          }}>\r\n            <Typography variant=\"h5\" style={{\r\n            width: '100%',\r\n            color: currentTheme === 'dark' ? '#7575a3' : ''\r\n          }}>\r\n            Авторизация\r\n          </Typography>\r\n          <NavLink\r\n            to=\"/\"\r\n            exact\r\n            style={{\r\n              color: 'red!important',\r\n              border: '0px',\r\n              cursor: 'pointer',\r\n              fontSize: '20px',\r\n              fontWeight: 'bold',\r\n              textDecoration: 'none',\r\n              zIndex: '99999'\r\n            }}\r\n          >\r\n            <IconButton >\r\n              <Close style={{\r\n                color: currentTheme === 'dark' ? '#7575a3' : '#3f51b5'\r\n              }}></Close>\r\n            </IconButton>\r\n          </NavLink>\r\n\r\n          \r\n          </Box>\r\n          <Box style={{\r\n            position: 'relative',\r\n            width: '100%'\r\n          }}>\r\n            {currentTheme === 'dark' ?\r\n              <CssTextField\r\n                InputProps={{ className: classes.root }}\r\n                id=\"name\"\r\n                placeholder=\"Введите имя пользователя\"\r\n                required\r\n                style={{\r\n                  margin: '30px 0px 10px 0px',\r\n                  backgroundColor: currentTheme === 'dark' ? '#0c0c1b' : 'white',\r\n                  width: '100%'\r\n                }}\r\n              />\r\n              :\r\n              <CssTextField2\r\n                InputProps={{ className: classes.root }}\r\n                id=\"name\"\r\n                placeholder=\"Введите имя пользователя\"\r\n                required\r\n                style={{\r\n                  margin: '30px 0px 10px 0px',\r\n                  backgroundColor: currentTheme === 'dark' ? '#0c0c1b' : 'white',\r\n                  width: '100%',\r\n                  border: '1px solid #e4e9f0'\r\n                }}\r\n              />}\r\n            <Icon style={{\r\n              position: 'absolute',\r\n              right: \"10px\",\r\n              top: '42px',\r\n              color: currentTheme === 'dark' ? '#aeaee0!important' : '',\r\n            }}\r\n            >\r\n              <People\r\n                style={{\r\n                  color: currentTheme === 'dark' ? '#aeaee0' : ''\r\n                }}></People>\r\n            </Icon>\r\n          </Box>\r\n          <Box style={{\r\n            position: 'relative',\r\n            width: '100%'\r\n          }}>\r\n            {currentTheme === 'dark' ?\r\n              <CssTextField\r\n                InputProps={{ className: classes.root }}\r\n                id=\"pass\"\r\n                placeholder=\"Введите пароль\"\r\n                required\r\n                style={{\r\n                  margin: '10px 0px',\r\n                  backgroundColor: currentTheme === 'dark' ? '#0c0c1b' : 'white',\r\n                  color: currentTheme === 'dark' ? '#aeaee0' : '',\r\n                  width: '100%'\r\n                }}\r\n                type={!vis ? 'password' : ''}\r\n              />\r\n              :\r\n              <CssTextField2\r\n                InputProps={{ className: classes.root }}\r\n                id=\"pass\"\r\n                placeholder=\"Введите пароль\"\r\n                required\r\n                style={{\r\n                  margin: '10px 0px',\r\n                  backgroundColor: currentTheme === 'dark' ? '#0c0c1b' : 'white',\r\n                  color: currentTheme === 'dark' ? '#aeaee0' : '',\r\n                  width: '100%',\r\n                  border: '1px solid #e4e9f0'\r\n                }}\r\n                type={!vis ? 'password' : ''}\r\n              />}\r\n            {!vis ?\r\n              <IconButton style={{\r\n                position: 'absolute',\r\n                right: \"-2px\",\r\n                top: '9px',\r\n              }}\r\n                onClick={() => { setVis(!vis) }}\r\n              >\r\n                <Visibility style={{\r\n                  color: currentTheme === 'dark' ? '#aeaee0' : ''\r\n                }}></Visibility>\r\n              </IconButton>\r\n              :\r\n              <IconButton style={{\r\n                position: 'absolute',\r\n                right: \"-2px\",\r\n                top: '9px',\r\n              }}\r\n                onClick={() => { setVis(!vis) }}\r\n              >\r\n                <VisibilityOff style={{\r\n                  color: currentTheme === 'dark' ? '#aeaee0' : ''\r\n                }}></VisibilityOff>\r\n              </IconButton>\r\n            }\r\n          </Box>\r\n          <Button \r\n          className={classes.logButt}\r\n            variant=\"contained\"\r\n            style={{\r\n              color:'white',\r\n              backgroundColor: 'rgb(75, 124, 243)',\r\n              marginTop: '10px',\r\n              borderRadius: '2px',\r\n              fontSize: '15px',\r\n              height: '45px',\r\n              width: '100%',\r\n              border:'0px'\r\n            }}\r\n            onClick={auth}\r\n          >\r\n            Войти\r\n            </Button>\r\n          <Box style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            width: '100%',\r\n            alignItems: 'center'\r\n          }}>\r\n            {/* <a\r\n              className='forPass'\r\n              style={{\r\n                color: '#4b7cf3',\r\n                border: '0px',\r\n                margin: '15px 0px ',\r\n                cursor: 'pointer',\r\n                fontSize: '15px',\r\n                width: '100%',\r\n                display: 'flex',\r\n\r\n              }}\r\n            >\r\n              Забыли пароль?\r\n            </a> */}\r\n            <NavLink\r\n              to=\"/register\"\r\n              exact\r\n              style={{\r\n                color: 'rgb(75, 124, 243)',\r\n                border: '0px',\r\n                margin: '15px 0px ',\r\n                cursor: 'pointer',\r\n                fontSize: '15px',\r\n                width: '100%',\r\n                textDecoration: 'none',\r\n                display: 'flex',\r\n                justifyContent: 'flex-end'\r\n              }}\r\n            >\r\n              Зарегистрироваться\r\n            </NavLink>\r\n          </Box>\r\n\r\n        </Paper>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withWidth()(Login);"],"sourceRoot":""}